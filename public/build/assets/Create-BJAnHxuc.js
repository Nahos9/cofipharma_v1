import{r as d,j as n,S as X,a as $}from"./app-d0oEnwzI.js";import{A as J}from"./AuthenticatedLayout-CBoZzwZ7.js";import{u as I,c as O,B as T}from"./button-DCnecEXd.js";import{I as S}from"./input-CvqrzQcJ.js";import{u as A,c as Q,P,a as Y,L as k}from"./index-DwSANgzc.js";import{C as Z}from"./check-oMVYOFGa.js";import{C as H,a as ee,b as te,c as ne}from"./card-CwuE2Cnf.js";import"./ApplicationLogo-B99VSr_G.js";import"./Dropdown-Dyv-yBr9.js";import"./transition-CW-mGLKu.js";import"./clsx-B-dksMZM.js";import"./index-p9hTNmV-.js";import"./createLucideIcon-D_VSDzgQ.js";function L(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function re(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function se(e){const[t,r]=d.useState(void 0);return A(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,u;if("borderBoxSize"in o){const c=o.borderBoxSize,s=Array.isArray(c)?c[0]:c;l=s.inlineSize,u=s.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else r(void 0)},[e]),t}function oe(e,t){return d.useReducer((r,i)=>t[r][i]??r,e)}var U=e=>{const{present:t,children:r}=e,i=ae(t),a=typeof r=="function"?r({present:i.isPresent}):d.Children.only(r),o=I(i.ref,ie(a));return typeof r=="function"||i.isPresent?d.cloneElement(a,{ref:o}):null};U.displayName="Presence";function ae(e){const[t,r]=d.useState(),i=d.useRef(null),a=d.useRef(e),o=d.useRef("none"),l=e?"mounted":"unmounted",[u,c]=oe(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const s=y(i.current);o.current=u==="mounted"?s:"none"},[u]),A(()=>{const s=i.current,p=a.current;if(p!==e){const f=o.current,h=y(s);e?c("MOUNT"):h==="none"||(s==null?void 0:s.display)==="none"?c("UNMOUNT"):c(p&&f!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),A(()=>{if(t){let s;const p=t.ownerDocument.defaultView??window,m=h=>{const v=y(i.current).includes(h.animationName);if(h.target===t&&v&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",s=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},f=h=>{h.target===t&&(o.current=y(i.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(s),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:d.useCallback(s=>{i.current=s?getComputedStyle(s):null,r(s)},[])}}function y(e){return(e==null?void 0:e.animationName)||"none"}function ie(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var j="Checkbox",[ce,Re]=Q(j),[de,E]=ce(j);function ue(e){const{__scopeCheckbox:t,checked:r,children:i,defaultChecked:a,disabled:o,form:l,name:u,onCheckedChange:c,required:s,value:p="on",internal_do_not_use_render:m}=e,[f,h]=Y({prop:r,defaultProp:a??!1,onChange:c,caller:j}),[C,v]=d.useState(null),[g,x]=d.useState(null),b=d.useRef(!1),w=C?!!l||!!C.closest("form"):!0,R={checked:f,disabled:o,setChecked:h,control:C,setControl:v,name:u,form:l,value:p,hasConsumerStoppedPropagationRef:b,required:s,defaultChecked:N(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:x};return n.jsx(de,{scope:t,...R,children:le(m)?m(R):i})}var z="CheckboxTrigger",B=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...i},a)=>{const{control:o,value:l,disabled:u,checked:c,required:s,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:C}=E(z,e),v=I(a,p),g=d.useRef(c);return d.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const b=()=>m(g.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[o,m]),n.jsx(P.button,{type:"button",role:"checkbox","aria-checked":N(c)?"mixed":c,"aria-required":s,"data-state":G(c),"data-disabled":u?"":void 0,disabled:u,value:l,...i,ref:v,onKeyDown:L(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:L(r,x=>{m(b=>N(b)?!0:!b),C&&h&&(f.current=x.isPropagationStopped(),f.current||x.stopPropagation())})})});B.displayName=z;var M=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:i,checked:a,defaultChecked:o,required:l,disabled:u,value:c,onCheckedChange:s,form:p,...m}=e;return n.jsx(ue,{__scopeCheckbox:r,checked:a,defaultChecked:o,disabled:u,required:l,onCheckedChange:s,name:i,form:p,value:c,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(B,{...m,ref:t,__scopeCheckbox:r}),f&&n.jsx(q,{__scopeCheckbox:r})]})})});M.displayName=j;var D="CheckboxIndicator",F=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:i,...a}=e,o=E(D,r);return n.jsx(U,{present:i||N(o.checked)||o.checked===!0,children:n.jsx(P.span,{"data-state":G(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});F.displayName=D;var W="CheckboxBubbleInput",q=d.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:l,required:u,disabled:c,name:s,value:p,form:m,bubbleInput:f,setBubbleInput:h}=E(W,e),C=I(r,h),v=re(o),g=se(i);d.useEffect(()=>{const b=f;if(!b)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,K=!a.current;if(v!==o&&_){const V=new Event("click",{bubbles:K});b.indeterminate=N(o),_.call(b,N(o)?!1:o),b.dispatchEvent(V)}},[f,v,o,a]);const x=d.useRef(N(o)?!1:o);return n.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??x.current,required:u,disabled:c,name:s,value:p,form:m,...t,tabIndex:-1,ref:C,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});q.displayName=W;function le(e){return typeof e=="function"}function N(e){return e==="indeterminate"}function G(e){return N(e)?"indeterminate":e?"checked":"unchecked"}const me=d.forwardRef(({className:e,...t},r)=>n.jsx(M,{ref:r,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(F,{className:O("flex items-center justify-center text-current"),children:n.jsx(Z,{className:"h-4 w-4"})})}));me.displayName=M.displayName;function Se({auth:e}){const{data:t,setData:r,post:i,processing:a,errors:o}=X({name:"",email:"",password:"",role:""}),l=s=>{s.preventDefault(),i(route("admin.users.store"))},u=[{id:1,name:"admin"},{id:2,name:"charge client"},{id:3,name:"responsable_ritel"},{id:4,name:"operation"},{id:5,name:"chef_agence"},{id:6,name:"visiteur"}],c={name:"Le nom est obligatoire.",email:"L'adresse e-mail est invalide ou manquante.",password:"Le mot de passe est obligatoire (au moins 8 caractères).",role:"Veuillez choisir un rôle."};return n.jsxs(J,{user:e.user,header:n.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Créer un Utilisateur"}),children:[n.jsx($,{title:"Créer un Utilisateur"}),n.jsx("div",{className:"py-12",children:n.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:n.jsxs(H,{children:[n.jsx(ee,{children:n.jsx(te,{children:"Nouvel Utilisateur"})}),n.jsx(ne,{children:n.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(k,{htmlFor:"name",children:"Nom"}),n.jsx(S,{id:"name",type:"text",value:t.name,onChange:s=>r("name",s.target.value)}),o.name&&n.jsx("p",{className:"text-red-500 text-sm",children:c.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(k,{htmlFor:"email",children:"Email"}),n.jsx(S,{id:"email",type:"email",value:t.email,onChange:s=>r("email",s.target.value)}),o.email&&n.jsx("p",{className:"text-red-500 text-sm",children:c.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(k,{htmlFor:"password",children:"Mot de passe"}),n.jsx(S,{id:"password",type:"password",value:t.password,onChange:s=>r("password",s.target.value)}),o.password&&n.jsx("p",{className:"text-red-500 text-sm",children:c.password})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(k,{children:"Rôles"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsxs("select",{onChange:s=>r("role",s.target.value),children:[n.jsx("option",{value:"",children:"Choisissez un rôle"}),u.map(s=>n.jsx("option",{value:s.name,children:s.name},s.id))]})}),o.role&&n.jsx("p",{className:"text-red-500 text-sm",children:c.role})]}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(T,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Annuler"}),n.jsx(T,{type:"submit",disabled:a,children:"Créer"})]})]})})]})})})]})}export{Se as default};
