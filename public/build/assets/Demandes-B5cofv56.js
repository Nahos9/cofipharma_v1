import{r as o,S as Y,j as e,a as Z,f as U}from"./app-B0hzU4lX.js";import{y as c,N as ee,L as te,F as ae}from"./FooterHome-CiaRNQoA.js";import{r as se}from"./docx-preview-Beq5M-JY.js";import"./button-BDA1yoaQ.js";import"./clsx-B-dksMZM.js";import"./createLucideIcon-DuupygLo.js";import"./x-BlPni_fV.js";import"./mail-D1jdY9aq.js";import"./phone-BiO0MbTw.js";const ue=()=>{const[p,C]=o.useState([]),[l,b]=o.useState(1),[v,A]=o.useState(null),[F,z]=o.useState(""),[S,B]=o.useState(""),[y,L]=o.useState(""),[_,M]=o.useState(""),[k,V]=o.useState(!1),[u,D]=o.useState(""),[j,P]=o.useState(!1),x=o.useRef(null),O=o.useRef(null);o.useRef(!1),o.useRef({x:0,y:0});const{data:s,setData:i,processing:w,errors:n}=Y({first_name:"",last_name:"",email:"",montant:"",numero_compte:"",phone:"",carte:"",mode_paiement:"",civility:"",address:"",city:"",bp:"",piece_identite:"",numero_piece_identite:"",date_naissance:"",lieu_naissance:"",nationalite:"",profession:"",employeur:"",date_de_delivrance_piece_identite:"",files:[]});o.useEffect(()=>{Object.keys(n).length>0&&c.error("Veuillez corriger les erreurs dans le formulaire",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},[n]);const I=a=>{const t=Array.from(a.target.files);C(t),i(r=>({...r,files:t}))},H=async()=>{var a,t;try{const r=window.PUBLIC_BASE||((t=(a=import.meta)==null?void 0:a.env)==null?void 0:t.VITE_PUBLIC_BASE)||"";let d="";if(v)try{const f=atob(v.split(",")[1]),K=v.split(",")[0].split(":")[1].split(";")[0],$=new ArrayBuffer(f.length),X=new Uint8Array($);for(let m=0;m<f.length;m++)X[m]=f.charCodeAt(m);const Q=new Blob([$],{type:K}),T=new FormData;T.append("signature",Q,"preview-signature.png");const R=await fetch(route("contracts.previewSignatureUpload"),{method:"POST",body:T,headers:{Accept:"application/json"},credentials:"same-origin"});R.ok&&(d=(await R.json()).signature_relative_path||"")}catch{}const h=new URLSearchParams({first_name:s.first_name||"",last_name:s.last_name||"",email:s.email||"",numero_compte:s.numero_compte||"",montant:String(s.montant||""),phone:s.phone||"",mode_paiement:s.mode_paiement||"",date_de_delivrance_piece_identite:s.date_de_delivrance_piece_identite||"",date_naissance:s.date_naissance||"",lieu_naissance:s.lieu_naissance||"",nationalite:s.nationalite||"",profession:s.profession||"",employeur:s.employeur||"",civility:s.civility||"",address:s.address||"",city:s.city||"",bp:s.bp||"",piece_identite:s.piece_identite||"",numero_piece_identite:s.numero_piece_identite||"",signature_relative_path:d||""});r&&h.set("public_base",r);const G=`${route("contracts.previewDocx")}?${h.toString()}`,E=await fetch(G,{method:"GET",headers:{Accept:"application/json"}});if(!E.ok)throw new Error("Pr√©visualisation DOCX indisponible");const g=await E.json();z(g.office_view_url||""),B(g.google_view_url||""),M(g.docx_relative_url||""),L(g.docx_url||"")}catch{c.error("Impossible de charger le pr√©visualiseur du contrat")}},J=async a=>{if(a==null||a.preventDefault(),l===1&&(!s.first_name||!s.email||!s.numero_compte||!s.montant)){c.warn("Veuillez remplir les champs requis de l'√©tape 1.");return}const t=Math.min(4,l+1);b(t),t===3&&await H()},N=()=>{const a=O.current;if(!a)return;const t=window.devicePixelRatio||1,r=a.getBoundingClientRect();a.width=r.width*t,a.height=r.height*t;const d=a.getContext("2d");d.scale(t,t),d.lineWidth=2,d.lineCap="round",d.strokeStyle="#111827",d.fillStyle="#ffffff",d.fillRect(0,0,r.width,r.height)};o.useEffect(()=>(N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)),[]);const W=a=>{if(a.preventDefault(),l===4){if(!j){c.warn("Veuillez cocher la case d'acceptation.");return}if((u||"").trim().toLowerCase()!=="j‚Äôai lu et approuv√©"&&(u||"").trim().toLowerCase()!=="j'ai lu et approuv√©"){c.warn('Veuillez saisir exactement: "J‚Äôai lu et approuv√©".');return}}const t=new FormData;t.append("first_name",s.first_name),t.append("last_name",s.last_name),t.append("email",s.email),t.append("numero_compte",s.numero_compte),t.append("montant",s.montant),t.append("phone",s.phone),t.append("mode_paiement",s.mode_paiement),t.append("civility",s.civility),t.append("address",s.address),t.append("city",s.city),t.append("bp",s.bp),t.append("piece_identite",s.piece_identite),t.append("numero_piece_identite",s.numero_piece_identite),t.append("date_naissance",s.date_naissance),t.append("lieu_naissance",s.lieu_naissance),t.append("nationalite",s.nationalite),t.append("profession",s.profession),t.append("employeur",s.employeur),t.append("dure","1"),t.append("date_de_delivrance_piece_identite",s.date_de_delivrance_piece_identite),t.append("mention_text",u),t.append("mention_accepted",j?"1":"0"),s.files.forEach((r,d)=>{t.append(`files[${d}]`,r)}),U.post(route("demandes.store"),t,{forceFormData:!0,onSuccess:()=>{i({first_name:"",last_name:"",email:"",montant:"",phone:"",numero_compte:"",mode_paiement:"",mention_text:"",mention_accepted:"",mention_accepted_at:"",civility:"",address:"",city:"",bp:"",piece_identite:"",numero_piece_identite:"",date_naissance:"",lieu_naissance:"",nationalite:"",profession:"",employeur:"",dure:"",date_de_delivrance_piece_identite:"",signature:"",files:[]}),C([]),A(null),D(""),P(!1),b(1),c.success("üéâ Votre demande a √©t√© envoy√©e avec succ√®s.",{position:"top-right"}),setTimeout(()=>{U.visit(route("welcome"))},1200)},onError:()=>{c.error("Une erreur est survenue lors de l'envoi de la demande")}})},q=l===1?25:l===2?50:l===3?75:100;return o.useEffect(()=>{(async()=>{if(!(l!==3||!_&&!y||!x.current))try{const r=await fetch(_||y,{credentials:"same-origin"});if(!r.ok)throw new Error("Docx non accessible");const h=await(await r.blob()).arrayBuffer();x.current.innerHTML="",await se(h,x.current,void 0,{className:"docx-view",inWrapper:!0,ignoreWidth:!1,ignoreHeight:!1}),V(!1)}catch{V(!0)}})()},[l,y,_]),e.jsxs("div",{className:"min-h-screen w-100 bg-gray-100",children:[e.jsx(Z,{title:"Demandes"}),e.jsx(ee,{}),e.jsx(te,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 w-100",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-gray-800 text-center sm:text-left",children:"Nouvelle Demande Cofi'Pharma"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${q}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-2",children:[e.jsx("span",{children:"√âtape 1: Formulaire"}),e.jsx("span",{children:"√âtape 2: R√©capitulatif"}),e.jsx("span",{children:"√âtape 3: Contrat"}),e.jsx("span",{children:"√âtape 4: Acceptation"})]})]}),e.jsxs("form",{className:"bg-white shadow-md rounded-lg px-4 sm:px-8 pt-6 pb-8 mb-4",onSubmit:l===4?W:J,children:[l===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 ",children:[e.jsx("label",{htmlFor:"civility",children:"Civilit√©"}),e.jsxs("select",{name:"civility",id:"civility",onChange:a=>{i(t=>({...t,civility:a.target.value}))},value:s.civility,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[e.jsx("option",{value:"",children:"S√©lectionnez"}),e.jsx("option",{value:"mr",children:"Mr"}),e.jsx("option",{value:"mme",children:"Mme"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nom",children:"Nom (*)"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.first_name?"border-red-500":""}`,id:"nom",type:"text",placeholder:"Votre nom",onChange:a=>{i(t=>({...t,first_name:a.target.value}))},value:s.first_name}),n.first_name&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.first_name})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"prenom",children:"Pr√©nom"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.last_name?"border-red-500":""}`,id:"prenom",type:"text",placeholder:"Votre pr√©nom",onChange:a=>{i(t=>({...t,last_name:a.target.value}))},value:s.last_name}),n.last_name&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.last_name})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nom",children:"Date de naissance"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.first_name?"border-red-500":""}`,id:"date_naissance",type:"date",placeholder:"Votre date de naissance",onChange:a=>{i(t=>({...t,date_naissance:a.target.value}))},value:s.date_naissance}),n.date_naissance&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.date_naissance})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"prenom",children:"Lieu de naissance"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.lieu_naissance?"border-red-500":""}`,id:"lieu_naissance",type:"text",placeholder:"Votre lieu de naissance",onChange:a=>{i(t=>({...t,lieu_naissance:a.target.value}))},value:s.lieu_naissance}),n.lieu_naissance&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.lieu_naissance})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nom",children:"Piece d'identit√©"}),e.jsxs("select",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.piece_identite?"border-red-500":""}`,name:"piece_identite",id:"piece_identite",onChange:a=>{i(t=>({...t,piece_identite:a.target.value}))},value:s.piece_identite,children:[e.jsx("option",{value:"",children:"S√©lectionnez"}),e.jsx("option",{value:"cni",children:"Carte nationale d'identit√©"}),e.jsx("option",{value:"passport",children:"Passport"}),e.jsx("option",{value:"permis de conduire",children:"Permis de conduire"}),e.jsx("option",{value:"cart_sej",children:"Carte de s√©jour"})]}),n.piece_identite&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.piece_identite})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"prenom",children:"Num√©ro de la piece d'identit√©"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.numero_piece_identite?"border-red-500":""}`,id:"numero_piece_identite",type:"text",placeholder:"Votre num√©ro de la piece d'identit√©",onChange:a=>{i(t=>({...t,numero_piece_identite:a.target.value}))},value:s.numero_piece_identite}),n.numero_piece_identite&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.numero_piece_identite})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"date_de_delivrance_piece_identite",children:"Date de delivrance de la piece d'identit√©"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.first_name?"border-red-500":""}`,id:"date_de_delivrance_piece_identite",type:"date",placeholder:"Votre date de delivrance de la piece d'identit√©",onChange:a=>{i(t=>({...t,date_de_delivrance_piece_identite:a.target.value}))},value:s.date_de_delivrance_piece_identite}),n.date_de_delivrance_piece_identite&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.date_de_delivrance_piece_identite})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email (*)"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.email?"border-red-500":""}`,id:"email",type:"email",placeholder:"Votre email",onChange:a=>{i(t=>({...t,email:a.target.value}))},value:s.email}),n.email&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.email})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"numero_compte",children:"Num√©ro de compte courant (*)"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.numero_compte?"border-red-500":""}`,id:"numero_compte",type:"text",inputMode:"numeric",placeholder:"Votre num√©ro de compte",pattern:"^371.*",onInvalid:a=>a.currentTarget.setCustomValidity("Le num√©ro de compte doit commencer par 371"),onInput:a=>a.currentTarget.setCustomValidity(""),onChange:a=>{const t=a.target.value;t&&!t.startsWith("371")?a.target.setCustomValidity("Le num√©ro de compte doit commencer par 371"):a.target.setCustomValidity(""),i(r=>({...r,numero_compte:t}))},value:s.numero_compte,required:!0}),n.numero_compte&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.numero_compte})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nationalite",children:"Nationalit√©"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"nationalite",type:"text",placeholder:"Votre nationalit√©",onChange:a=>{i(t=>({...t,nationalite:a.target.value}))},value:s.nationalite})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"profession",children:"Profession"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"profession",type:"text",placeholder:"Votre profession",onChange:a=>{i(t=>({...t,profession:a.target.value}))},value:s.profession})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"employeur",children:"Employeur"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"employeur",type:"text",placeholder:"Votre employeur",onChange:a=>{i(t=>({...t,employeur:a.target.value}))},value:s.employeur})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"address",children:"Adresse"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"address",type:"text",placeholder:"Votre adresse",onChange:a=>{i(t=>({...t,address:a.target.value}))},value:s.address})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"city",children:"Ville"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"city",type:"text",placeholder:"Votre ville",onChange:a=>{i(t=>({...t,city:a.target.value}))},value:s.city})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"bp",children:"BP"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"bp",type:"text",placeholder:"Votre BP",onChange:a=>{i(t=>({...t,bp:a.target.value}))},value:s.bp})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"telephone",children:"T√©l√©phone"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"telephone",type:"tel",placeholder:"Votre num√©ro de t√©l√©phone",onChange:a=>{i(t=>({...t,phone:a.target.value}))},value:s.phone})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"montant",children:"Mode de paiement (*)"}),e.jsxs("select",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.montant?"border-red-500":""}`,value:s.mode_paiement,onChange:a=>i(t=>({...t,mode_paiement:a.target.value})),children:[e.jsx("option",{value:"",children:"S√©lectionnez"}),e.jsx("option",{value:"caisse",children:"Caisse"}),e.jsx("option",{value:"mobile",children:"Mobile monaie"}),e.jsx("option",{value:"carte",children:"Carte pr√©pay√©e"})]})]}),s.mode_paiement=="mobile"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"telephone",children:"Num√©ro de t√©l√©phone (*)"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"telephone",type:"tel",placeholder:"Votre num√©ro de t√©l√©phone",onChange:a=>{i(t=>({...t,phone:a.target.value}))},value:s.phone})]}),s.mode_paiement=="carte"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"carte",children:"Num√©ro de la carte (*)"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"carte",type:"text",placeholder:"Num√©ro de la carte",onChange:a=>{i(t=>({...t,carte:a.target.value}))},value:s.carte})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"montant",children:"Montant (*)"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.montant?"border-red-500":""}`,id:"montant",type:"number",step:"0.01",placeholder:"Montant de la demande",onChange:a=>{i(t=>({...t,montant:a.target.value}))},value:s.montant}),n.montant&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.montant})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"files",children:"Documents (PDF, Images) (*)"}),e.jsx("input",{className:`shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${n.files?"border-red-500":""}`,id:"files",type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:I}),n.files&&e.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:n.files}),p.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Fichiers s√©lectionn√©s :"}),e.jsx("ul",{className:"mt-1 text-sm text-gray-500",children:p.map((a,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚Ä¢"}),a.name," (",(a.size/1024).toFixed(2)," KB)"]},t))})]})]})]}),l===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"R√©capitulatif"}),e.jsxs("div",{className:"bg-gray-50 rounded border border-gray-200 p-4",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Nom:"})," ",e.jsxs("strong",{children:[s.first_name," ",s.last_name]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Email:"})," ",e.jsx("strong",{children:s.email})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Compte:"})," ",e.jsx("strong",{children:s.numero_compte})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"T√©l√©phone:"})," ",e.jsx("strong",{children:s.phone||"-"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Mode paiement:"})," ",e.jsx("strong",{children:s.mode_paiement||"-"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Montant:"})," ",e.jsx("strong",{children:s.montant})]}),p.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Documents joints:"}),e.jsx("ul",{className:"mt-1 text-sm text-gray-500 list-disc list-inside",children:p.map((a,t)=>e.jsx("li",{children:a.name},t))})]})]})]}),l===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Aper√ßu du contrat"}),e.jsx("div",{className:"bg-gray-50 rounded border border-gray-200 p-2",children:e.jsxs("div",{className:"relative w-full",style:{minHeight:"40vh"},children:[!k&&e.jsx("div",{ref:x,className:"docx-container w-full h-full overflow-auto",style:{maxHeight:"70vh"}}),k&&(F||S)&&e.jsx("div",{className:"w-full",style:{height:"70vh"},children:e.jsx("iframe",{title:"Aper√ßu du contrat",src:F||S,style:{width:"100%",height:"100%",border:0},allow:"fullscreen"})})]})})]}),l===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Acceptation"}),e.jsxs("div",{className:"bg-gray-50 rounded border border-gray-200 p-4 text-sm text-gray-700 leading-relaxed max-h-56 overflow-auto",children:[e.jsx("p",{children:"En validant, vous confirmez l'exactitude des informations fournies et acceptez les termes du contrat de financement CofiExpress. Vous autorisez la v√©rification de vos donn√©es et l'utilisation de vos documents pour l'√©tude de votre dossier."}),e.jsx("p",{className:"mt-2",children:"Saisissez ¬´ J‚Äôai lu et approuv√© ¬ª et cochez la case pour confirmer."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Texte d‚Äôacceptation"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"J‚Äôai lu et approuv√©",value:u,onChange:a=>D(a.target.value)}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("input",{id:"acceptTerms",type:"checkbox",checked:j,onChange:a=>P(a.target.checked)}),e.jsx("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700",children:"Je confirme avoir lu et approuv√©"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsx("button",{type:"button",className:`px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-800 ${l===1?"opacity-50 cursor-not-allowed":""}`,onClick:a=>{a.preventDefault(),b(t=>Math.max(1,t-1))},disabled:l===1,children:"√âtape pr√©c√©dente"}),e.jsx("button",{className:`px-4 py-2 rounded text-white ${l===4?"bg-green-600 hover:bg-green-700":"bg-blue-500 hover:bg-blue-700"} ${w?"opacity-50 cursor-not-allowed":""}`,type:"submit",disabled:w,children:w?"Traitement...":l===4?"Soumettre la demande":"Continuer"})]})]})]}),e.jsx(ae,{})]})};export{ue as default};
