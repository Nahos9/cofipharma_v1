import{S as h,r as j,f as v,j as e,a as N}from"./app-DD3k6qJ9.js";import{y as u,N as b,L as y}from"./index-B4LLNpE4.js";import{I as m}from"./InputLabel-TrhJakAh.js";import{T as l}from"./TextInput-CnzpxkdQ.js";import{I as o}from"./InputError-CDU9WziQ.js";import{P as w}from"./PrimaryButton-BXXVv2Yj.js";/* empty css                      */import"./button-DX6rFrL7.js";import"./clsx-B-dksMZM.js";import"./createLucideIcon-D5LIkTyb.js";import"./x-u4f4VwFb.js";const P=({auth:i,flash:n})=>{const{data:r,setData:t,post:d,processing:p,errors:a,reset:x}=h({numero_compte:"",phone:"",email:"",nom:"",prenom:"",status:"",montant:"",fichiers:[]});j.useEffect(()=>{n.success&&(u.success(n.success,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,className:"bg-green-500 text-white",bodyClassName:"font-bold"}),x(),setTimeout(()=>{v.visit(route("welcome"))},1500)),n.error&&u.error(n.error)},[n]);const f=s=>{s.preventDefault(),d(route("av_salaire.store"))};return e.jsxs("div",{children:[e.jsx(b,{user:i==null?void 0:i.user}),e.jsx(N,{title:"demande avance "}),e.jsx(y,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsxs("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Demande d'Avance sur Salaire"}),e.jsxs("form",{onSubmit:f,className:"border p-2 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between gap-2 mt-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"nom",value:"Votre nom"}),e.jsx(l,{id:"nom",type:"text",name:"nom",value:r.nom,className:"mt-1 block w-full",onChange:s=>t("nom",s.target.value)}),e.jsx(o,{message:a.nom,className:"mt-2"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"prenom",value:"Votre prénom"}),e.jsx(l,{id:"prenom",type:"text",name:"prenom",value:r.prenom,className:"mt-1 block w-full",onChange:s=>t("prenom",s.target.value)}),e.jsx(o,{message:a.prenom,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-between gap-2 mt-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"email",value:"Votre email"}),e.jsx(l,{id:"email",type:"text",name:"email",value:r.email,className:"mt-1 block w-full",onChange:s=>t("email",s.target.value)}),e.jsx(o,{message:a.email,className:"mt-2"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"phone",value:"Numéro de téléphone"}),e.jsx(l,{id:"phone",type:"text",name:"phone",value:r.phone,className:"mt-1 block w-full",onChange:s=>t("phone",s.target.value)}),e.jsx(o,{message:a.phone,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-between gap-2 mt-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"numero_compte",value:"Numéro de compte courant"}),e.jsx(l,{id:"numero_compte",type:"text",name:"numero_compte",value:r.numero_compte,className:"mt-1 block w-full",inputMode:"numeric",pattern:"^371.*",onInvalid:s=>s.currentTarget.setCustomValidity("Le numéro de compte doit commencer par 371"),onInput:s=>s.currentTarget.setCustomValidity(""),onChange:s=>{const c=s.target.value;c&&!c.startsWith("371")?s.target.setCustomValidity("Le numéro de compte doit commencer par 371"):s.target.setCustomValidity(""),t(g=>({...g,numero_compte:c}))}}),e.jsx(o,{message:a.numero_compte,className:"mt-2"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"montant",value:"Montant"}),e.jsx(l,{id:"montant",type:"text",name:"montant",value:r.montant,className:"mt-1 block w-full",onChange:s=>t("montant",s.target.value)}),e.jsx(o,{message:a.montant,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx(m,{htmlFor:"fichiers",value:"Joindre des fichiers (*)"}),e.jsx("input",{id:"fichiers",type:"file",name:"fichiers",multiple:!0,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:s=>t("fichiers",s.target.files)}),e.jsx(o,{message:a.fichiers,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(w,{disabled:p,children:"Soumettre la demande"})})]})]})]})};export{P as default};
